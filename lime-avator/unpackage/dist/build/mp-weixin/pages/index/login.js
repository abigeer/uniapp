(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/login"],{"0c38":function(n,o,e){"use strict";var t=e("a995"),a=e.n(t);a.a},"251b":function(n,o,e){"use strict";var t=function(){var n=this,o=n.$createElement;n._self._c},a=[];e.d(o,"a",function(){return t}),e.d(o,"b",function(){return a})},"2faa":function(n,o,e){"use strict";(function(n){e("be84"),e("921b");t(e("66fd"));var o=t(e("9bc8"));function t(n){return n&&n.__esModule?n:{default:n}}n(o.default)}).call(this,e("543d")["createPage"])},"9aca":function(n,o,e){"use strict";e.r(o);var t=e("d83a"),a=e.n(t);for(var l in t)"default"!==l&&function(n){e.d(o,n,function(){return t[n]})}(l);o["default"]=a.a},"9bc8":function(n,o,e){"use strict";e.r(o);var t=e("251b"),a=e("9aca");for(var l in a)"default"!==l&&function(n){e.d(o,n,function(){return a[n]})}(l);e("0c38");var i=e("2877"),u=Object(i["a"])(a["default"],t["a"],t["b"],!1,null,null,null);o["default"]=u.exports},a995:function(n,o,e){},d83a:function(n,o,e){"use strict";(function(n){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={data:function(){return{title:"需要使用你的微信昵称和头像",loginFlag:!1}},onLoad:function(){},methods:{login:function(){var o=this;n.getSetting({success:function(e){console.log("调用授权接口！"),console.log(e.authSetting["scope.userInfo"]),e.authSetting["scope.userInfo"]?n.login({provider:"weixin",success:function(e){console.log("调用uni.login()成功！"),e.code&&(n.showToast({title:"登录中...",icon:"loading",duration:1500}),n.getUserInfo({provider:"weixin",success:function(e){console.log("获取用户信息成功！"),getApp().globalData.userInfo=e.userInfo,getApp().globalData.userInfo.avatarUrl=e.userInfo.avatarUrl.substring(0,e.userInfo.avatarUrl.length-3)+"0",o.loginFlag=!0,n.navigateTo({url:"index"})},fail:function(){console.log("获取用户信息失败！")}}))},fail:function(){console.log("调用登录uni.login()失败！")}}):(console.log("未授权！"),n.authorize({scope:"scope.userInfo",success:function(){console.log("获取用户授权成功！"),n.login({provider:"weixin",success:function(e){console.log("调用uni.login()成功！"),e.code&&n.getUserInfo({provider:"weixin",success:function(e){console.log("获取用户信息成功！"),getApp().globalData.userInfo=e.userInfo,getApp().globalData.userInfo.avatarUrl=e.userInfo.avatarUrl.substring(0,e.userInfo.avatarUrl.length-3)+"0",o.loginFlag=!0,n.navigateTo({url:"index"})},fail:function(){console.log("获取用户信息失败！")}})},fail:function(){console.log("调用登录uni.login()失败！")}})},fail:function(){console.log("获取用户授权失败！")}}))},fail:function(){console.log("授权失败！")}})}}};o.default=e}).call(this,e("543d")["default"])}},[["2faa","common/runtime","common/vendor"]]]);